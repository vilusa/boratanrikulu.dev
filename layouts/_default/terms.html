<!DOCTYPE html>
<html>
{{ partial "header.html" . }}

<body>
	<div class="container wrapper tags">
		{{ partial "head.html" . }}

		<h1 class="page-title">{{ .Name }}</h1>

		{{ $biggest := 1 }}
		{{ $smallest := 1 }}
		{{ $max := 3 }}
		{{ $min := 1 }}
		{{ $size := $min }}

		{{ $data := .Data }}
		<div class="tag-cloud">
		{{ range $key, $value := .Data.Terms.ByCount }}
			{{ $size := (add (mul (div $value.Count $biggest) (sub $max $min)) $min) }}
			{{ $size := (cond (eq $biggest $smallest) $min $size) }}
			<a style="font-size: {{ $size }}rem;" href="{{ $.Site.LanguagePrefix | absURL }}{{ $data.Plural }}/{{ $value.Name | urlize }}/">{{ $value.Name }}<sup>{{ $value.Count }}</sup></a>
		{{ end }}
		</div>
		<ul class="posts">
			{{ range (where .Site.RegularPages "Section" "==" "posts") }}
			{{- if (in (.Site.Params.excludedTypes | default (slice "page")) .Type) -}}
			{{- else -}}
			<li class="post">
				<div class="post-header">
					<div class="meta">
						<div class="date">
							<span class="day">{{ dateFormat "02" .Date }}</span>
							<span class="rest">{{ if $.Site.Data.month }}{{ index $.Site.Data.month (printf "%d" .Date.Month) }} {{ .Date.Year }}{{ else }}{{ dateFormat "Jan 2006" .Date }}{{ end }}</span>
						</div>
					</div>
					<div class="matter">
						<h4 class="title small">
							<a href="{{ .RelPermalink }}">{{.Title}}{{ if .Draft }}<sup class="draft-label">DRAFT</sup>{{ end }}</a>
						</h4>
						<span class="description">
							{{ if isset .Params "description" }}
							{{ .Description }}
							{{ else if gt (len .RawContent) 120 }}
							{{ slicestr .RawContent 0 120 }}...
							{{ else }}
							{{ .RawContent }}
							{{ end }}
						</span>
					</div>
				</div>
			</li>
			{{- end -}}
			{{- end -}}
		</ul>
	</div>



	{{ partial "footer.html" . }}
</body>

</html>
